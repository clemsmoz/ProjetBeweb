{% extends "base.html" %}

{% block content %}
<html>
<head>
<title>Compétences</title>
<script type="text/javascript">
    function toggleActivitesTable() {
        var table = document.getElementById("activites-table");
        if (table.style.display === "none") {
            table.style.display = "block";
        } else {
            table.style.display = "none";
        }
    }

    function toggleCpTable() {
        var table = document.getElementById("cp-table");
        if (table.style.display === "none") {
            table.style.display = "block";
        } else {
            table.style.display = "none";
        }
    }

    function toggleItemsTable() {
        var table = document.getElementById("items-table");
        if (table.style.display === "none") {
            table.style.display = "block";
        } else {
            table.style.display = "none";
        }
    }

    function toggleModulesTable() {
        var table = document.getElementById("modules-table");
        if (table.style.display === "none") {
            table.style.display = "block";
        } else {
            table.style.display = "none";
        }
    }

    function searchTable() {
        var input = document.getElementById("search-input").value.toLowerCase();
        var tableRows = document.querySelectorAll("#activites-table tbody tr, #cp-table tbody tr, #items-table tbody tr, #modules-table tbody tr");

        tableRows.forEach(function(row) {
            var text = row.textContent.toLowerCase();
            if (text.includes(input)) {
                row.style.display = "";
            } else {
                row.style.display = "none";
            }
        });
    }
</script>
</head>
<body>
<button type="button" class="btn navbtn" onclick="window.location.href='/accueil'">Retour</button>
    <div class="container">
        <h1>Liste des compétences </h1>
        <input type="text" id="search-input" class="form-control" placeholder="Rechercher..." oninput="searchTable()">
        <h2>Liste des activites <button type="button" class="btn btn-primary" onclick="toggleActivitesTable()">Cacher/Montrer</button></h2>
        <table id="activites-table" class="table table-striped">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Titre</th>
                    <th>Résumé</th>
                </tr>
            </thead>
            <tbody>
                {% for activite in activites %}
                <tr>
                    <td>{{ activite.id }}</td>
                    <td>{{ activite.titre }}</td>
                    <td>{{ activite.contenu }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <h2>Liste des CP <button type="button" class="btn btn-primary" onclick="toggleCpTable()">Cacher/Montrer</button></h2>
        <table id="cp-table" class="table table-striped">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Titre</th>
                    <th>Contenu</th>
                </tr>
            </thead>
            <tbody>
                {% for cp in Cps %}
                <tr>
                    <td>{{ cp.id }}</td>
                    <td>{{ cp.titre }}</td>
                    <td>{{ cp.contenu }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <h2>Liste des items <button type="button" class="btn btn-primary" onclick="toggleItemsTable()">Cacher/Montrer</button></h2>
        <table id="items-table" class="table table-striped">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Titre</th>
                    <th>Contenu</th>
                </tr>
            </thead>
            <tbody>
                {% for item in items %}
                <tr>
                    <td>{{ item.id}}</td>
                    <td>{{ item.titre }}</td>
                    <td>{{ item.contenu }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <h2>Liste des modules <button type="button" class="btn btn-primary" onclick="toggleModulesTable()">Cacher/Montrer</button></h2>
        <table id="modules-table" class="table table-striped">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Titre</th>
                    <th>Contenu</th>
                </tr>
            </thead>
            <tbody>
                {%for module in modules %}
                <tr>
                    <td>{{ module.id }}</td>
                    <td>{{ module.titre }}</td>
                    <td>{{ module.contenu }}</td>
                </tr>
                {%endfor %}
            </tbody>
        </table>
{% include "navbar.html" %}

</body>
</html>
{% endblock %}




